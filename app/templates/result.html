{% extends 'base.html' %}
{% block start%}
{% include 'navbar.html' %}
<div class="main-container">
    <h1>Product Data</h1>

    <!-- Button to download CSV -->
    <div class="button-container">
        <a href="{% url 'download_csv' file_name %}" class="button">Download CSV</a>
    </div>


    <!-- Sort Options -->
    <form method="GET" action="{% url 'result' %}" class="sort-form">
        <select name="sort">
            <option value="reset">Select sorting</option>
            <option value="price_low_to_high">Price Low to High</option>
            <option value="price_high_to_low">Price High to Low</option>
            <option value="rating_high_to_low">Rating High to Low</option>
            <option value="rating_low_to_high">Rating Low to High</option>
        </select>
        <button type="submit">Sort</button>
        <button type="submit" name="reset" value="true">Reset Sorting</button>
    </form>

    <!-- Table Container -->
    <div class="table-container">
        <div class="table-wrapper">
            {{ table_html|safe }}
        </div>
    </div>

    <!-- Scroll buttons -->
    <div class="scroll-buttons">
        <button class="scroll-top" onclick="window.scrollTo(0, 0)">Scroll to Top</button>
        <button class="scroll-bottom" onclick="window.scrollTo(0, document.body.scrollHeight)">Scroll to
            Bottom</button>
    </div>
</div>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-K3hmOVbXycEoXkYDxCxFvQarR5HtccgITeWTkrXB3zKjqFFMPEJbXbn9Pl+aptCe" crossorigin="anonymous">
    </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-wSSBO6Qm9YJxsvie2jsiIi8SQ5OR2PgyPyhJbFzKQ8t7t90c3R9vxke0xlHFpF3s" crossorigin="anonymous">
    </script>
{% endblock %}